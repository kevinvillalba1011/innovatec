<div class="dashboard-container" *ngIf="advisor">
    <div class="dashboard-header">
        <div class="header-content">
            <div class="welcome-section">
                <h1>¬°Hola, {{ advisor.name }}!</h1>
                <p class="advisor-code">C√≥digo: {{ advisor.code }}</p>
            </div>
            <button class="logout-btn" (click)="logout()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                Salir
            </button>
        </div>
    </div>

    <div class="stats-grid">
        <!-- Current Collection Card -->
        <div class="stat-card current-collection">
            <div class="stat-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <line x1="12" y1="1" x2="12" y2="23"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
            </div>
            <div class="stat-content">
                <p class="stat-label">Recaudo Actual</p>
                <h2 class="stat-value">{{ formatCurrency(advisor.currentCollection) }}</h2>
            </div>
        </div>

        <!-- Goal Card -->
        <div class="stat-card goal">
            <div class="stat-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <circle cx="12" cy="12" r="6"></circle>
                    <circle cx="12" cy="12" r="2"></circle>
                </svg>
            </div>
            <div class="stat-content">
                <p class="stat-label">Meta de Recaudo</p>
                <h2 class="stat-value">{{ formatCurrency(advisor.collectionGoal) }}</h2>
            </div>
        </div>

        <!-- Remaining Card -->
        <div class="stat-card remaining">
            <div class="stat-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                </svg>
            </div>
            <div class="stat-content">
                <p class="stat-label">Falta por Recaudar</p>
                <h2 class="stat-value">{{ formatCurrency(advisor.collectionGoal - advisor.currentCollection) }}</h2>
            </div>
        </div>
    </div>

    <!-- Progress Section -->
    <div class="progress-section">
        <div class="progress-header">
            <h3>Progreso de Recaudo</h3>
            <div class="percentage-badge" [style.background]="getProgressGradient()">
                {{ progressPercentage.toFixed(1) }}%
            </div>
        </div>

        <div class="progress-bar-container">
            <div class="progress-bar-background">
                <div class="progress-bar-fill" [style.width.%]="progressPercentage"
                    [style.background]="getProgressGradient()">
                    <div class="progress-shine"></div>
                </div>
            </div>
            <div class="progress-markers">
                <span class="marker" [class.active]="progressPercentage >= 0">0%</span>
                <span class="marker" [class.active]="progressPercentage >= 25">25%</span>
                <span class="marker" [class.active]="progressPercentage >= 50">50%</span>
                <span class="marker" [class.active]="progressPercentage >= 75">75%</span>
                <span class="marker" [class.active]="progressPercentage >= 100">100%</span>
            </div>
        </div>

        <div class="progress-message">
            <div class="message-icon" *ngIf="progressPercentage >= 80">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
            </div>
            <p *ngIf="progressPercentage >= 100" class="success-message">
                ¬°Felicitaciones! Has alcanzado tu meta de recaudo üéâ
            </p>
            <p *ngIf="progressPercentage >= 80 && progressPercentage < 100" class="near-success-message">
                ¬°Excelente trabajo! Est√°s muy cerca de alcanzar tu meta üí™
            </p>
            <p *ngIf="progressPercentage >= 50 && progressPercentage < 80" class="progress-message-text">
                Vas por buen camino. ¬°Sigue as√≠! üëç
            </p>
            <p *ngIf="progressPercentage < 50" class="encourage-message">
                Contin√∫a trabajando para alcanzar tu meta üöÄ
            </p>
        </div>
    </div>

    <!-- Additional Info -->
    <div class="info-footer">
        <div class="info-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>√öltima actualizaci√≥n: Hoy</span>
        </div>
    </div>
</div>